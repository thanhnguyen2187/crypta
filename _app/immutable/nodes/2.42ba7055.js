import{s as ve,e as K,i as C,r as F,d as g,S as ye,T as nn,E as dt,F as ut,f as x,l as re,a as H,g as E,h as N,m as le,c as D,j as y,z as M,I as _,W as we,n as se,M as ke,J as xe,X as an,Y as on,U as Q,O as Ee,R as pt,a1 as Ue}from"../chunks/scheduler.4c6d698c.js";import{S as $e,i as Te,g as Re,t as Y,c as _e,a as J,b as Le,d as Ce,m as Me,e as Ne}from"../chunks/index.ebdcb085.js";import{e as ce,k as ft,d as Ie,g as rn,o as ht,m as ze,c as ln,l as fe,j as sn,q as cn,u as dn,t as un,v as pn,__tla as fn}from"../chunks/store.adb01832.js";import{w as hn}from"../chunks/index.612e0734.js";let mt,gt,mn=Promise.all([(()=>{try{return fn}catch{}})()]).then(async()=>{const bt=hn(void 0);function qe(t,e){if(!window.isSecureContext){console.error("Clipboard action failed: app not running in secure context, see: https://developer.mozilla.org/en-US/docs/Web/API/Clipboard");return}const n=()=>{t.dispatchEvent(new CustomEvent("copyComplete"))},a=()=>{if(typeof e=="object"){if("element"in e){const o=document.querySelector(`[data-clipboard="${e.element}"]`);if(!o)throw new Error(`Missing HTMLElement with an attribute of [data-clipboard="${e.element}"]`);Oe(o.innerHTML,"text/html").then(n);return}if("input"in e){const o=document.querySelector(`[data-clipboard="${e.input}"]`);if(!o)throw new Error(`Missing HTMLInputElement with an attribute of [data-clipboard="${e.input}"]`);Oe(o.value).then(n);return}}Oe(e).then(n)};return t.addEventListener("click",a),{update(o){e=o},destroy(){t.removeEventListener("click",a)}}}async function Oe(t,e="text/plain"){navigator.clipboard.write?await navigator.clipboard.write([new ClipboardItem({[e]:new Blob([t],{type:e}),"text/plain":new Blob([t],{type:"text/plain"})})]):await new Promise(n=>{n(navigator.clipboard.writeText(String(t)))})}function Ve(t){let e,n,a,o=Xe(t[0])+"",r,l,s,i=(t[7]?t[4]:t[3])+"",h,u,p,c,f,d,v,w,$,I;function W(m,k){return m[6]?yt:vt}let U=W(t),S=U(t);return{c(){e=x("div"),n=x("header"),a=x("span"),r=re(o),l=H(),s=x("button"),h=re(i),c=H(),f=x("pre"),d=x("code"),S.c(),this.h()},l(m){e=E(m,"DIV",{class:!0,"data-testid":!0});var k=N(e);n=E(k,"HEADER",{class:!0});var X=N(n);a=E(X,"SPAN",{class:!0});var R=N(a);r=le(R,o),R.forEach(g),l=D(X),s=E(X,"BUTTON",{class:!0});var T=N(s);h=le(T,i),T.forEach(g),X.forEach(g),c=D(k),f=E(k,"PRE",{class:!0});var j=N(f);d=E(j,"CODE",{class:!0});var L=N(d);S.l(L),L.forEach(g),j.forEach(g),k.forEach(g),this.h()},h(){y(a,"class","codeblock-language"),y(s,"class",u="codeblock-btn "+t[2]),y(n,"class","codeblock-header "+xt),y(d,"class",v="codeblock-code language-"+t[0]+" lineNumbers"),y(f,"class","codeblock-pre "+Et),y(e,"class",w="codeblock "+t[8]),y(e,"data-testid","codeblock")},m(m,k){C(m,e,k),M(e,n),M(n,a),M(a,r),M(n,l),M(n,s),M(s,h),M(e,c),M(e,f),M(f,d),S.m(d,null),$||(I=[_(s,"click",t[9]),we(p=qe.call(null,s,t[1]))],$=!0)},p(m,k){k&1&&o!==(o=Xe(m[0])+"")&&se(r,o),k&152&&i!==(i=(m[7]?m[4]:m[3])+"")&&se(h,i),k&4&&u!==(u="codeblock-btn "+m[2])&&y(s,"class",u),p&&ke(p.update)&&k&2&&p.update.call(null,m[1]),U===(U=W(m))&&S?S.p(m,k):(S.d(1),S=U(m),S&&(S.c(),S.m(d,null))),k&1&&v!==(v="codeblock-code language-"+m[0]+" lineNumbers")&&y(d,"class",v),k&256&&w!==(w="codeblock "+m[8])&&y(e,"class",w)},d(m){m&&g(e),S.d(),$=!1,xe(I)}}}function vt(t){let e=t[1].trim()+"",n;return{c(){n=re(e)},l(a){n=le(a,e)},m(a,o){C(a,n,o)},p(a,o){o&2&&e!==(e=a[1].trim()+"")&&se(n,e)},d(a){a&&g(n)}}}function yt(t){let e,n;return{c(){e=new an(!1),n=K(),this.h()},l(a){e=on(a,!1),n=K(),this.h()},h(){e.a=n},m(a,o){e.m(t[5],a,o),C(a,n,o)},p(a,o){o&32&&e.p(a[5])},d(a){a&&(g(n),e.d())}}}function wt(t){let e,n=t[0]&&t[1]&&Ve(t);return{c(){n&&n.c(),e=K()},l(a){n&&n.l(a),e=K()},m(a,o){n&&n.m(a,o),C(a,e,o)},p(a,[o]){a[0]&&a[1]?n?n.p(a,o):(n=Ve(a),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:F,o:F,d(a){a&&g(e),n&&n.d(a)}}}const kt="overflow-hidden shadow",xt="text-xs text-white/50 uppercase flex justify-between items-center p-2 pl-4",Et="whitespace-pre-wrap break-all p-4 pt-1";function Xe(t){return t==="js"?"javascript":t==="ts"?"typescript":t==="shell"?"terminal":t}function $t(t,e,n){let a,o;ye(t,bt,m=>n(17,o=m));const r=nn();let{language:l="plaintext"}=e,{code:s=""}=e,{lineNumbers:i=!1}=e,{background:h="bg-neutral-900/90"}=e,{blur:u=""}=e,{text:p="text-sm"}=e,{color:c="text-white"}=e,{rounded:f="rounded-container-token"}=e,{shadow:d="shadow"}=e,{button:v="btn btn-sm variant-soft !text-white"}=e,{buttonLabel:w="Copy"}=e,{buttonCopied:$="\u{1F44D}"}=e,I=!1,W=s,U=!1;function S(){n(7,U=!0),setTimeout(()=>{n(7,U=!1)},2e3),r("copy")}return t.$$set=m=>{n(19,e=dt(dt({},e),ut(m))),"language"in m&&n(0,l=m.language),"code"in m&&n(1,s=m.code),"lineNumbers"in m&&n(10,i=m.lineNumbers),"background"in m&&n(11,h=m.background),"blur"in m&&n(12,u=m.blur),"text"in m&&n(13,p=m.text),"color"in m&&n(14,c=m.color),"rounded"in m&&n(15,f=m.rounded),"shadow"in m&&n(16,d=m.shadow),"button"in m&&n(2,v=m.button),"buttonLabel"in m&&n(3,w=m.buttonLabel),"buttonCopied"in m&&n(4,$=m.buttonCopied)},t.$$.update=()=>{t.$$.dirty&131075&&o!==void 0&&(n(5,W=o.highlight(s,{language:l}).value.trim()),n(6,I=!0)),t.$$.dirty&1056&&i&&(n(5,W=W.replace(/^/gm,()=>'<span class="line"></span>	')),n(6,I=!0)),n(8,a=`${kt} ${h} ${u} ${p} ${c} ${f} ${d} ${e.class??""}`)},e=ut(e),[l,s,v,w,$,W,I,U,a,S,i,h,u,p,c,f,d,o]}class Tt extends $e{constructor(e){super(),Te(this,e,$t,wt,ve,{language:0,code:1,lineNumbers:10,background:11,blur:12,text:13,color:14,rounded:15,shadow:16,button:2,buttonLabel:3,buttonCopied:4})}}let Fe,Ye;Fe=!0,Ye=!1,gt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Fe,ssr:Ye},Symbol.toStringTag,{value:"Module"}));function Lt(t){let e,n='<i class="fa-solid fa-unlock fa-8x opacity-75"></i>';return{c(){e=x("div"),e.innerHTML=n,this.h()},l(a){e=E(a,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-shn7xz"&&(e.innerHTML=n),this.h()},h(){y(e,"class","w-full p-4 flex justify-center")},m(a,o){C(a,e,o)},p:F,d(a){a&&g(e)}}}function Ct(t){let e,n,a,o;return{c(){e=x("button"),n=x("i"),this.h()},l(r){e=E(r,"BUTTON",{class:!0,"aria-roledescription":!0});var l=N(e);n=E(l,"I",{class:!0}),N(n).forEach(g),l.forEach(g),this.h()},h(){y(n,"class","fa-solid fa-8x opacity-75"),Ee(n,"fa-lock",t[2]==="default"),Ee(n,"fa-unlock",t[2]==="hovered"||t[2]==="active"),y(e,"class","w-full p-4 flex justify-center cursor-pointer"),y(e,"aria-roledescription","generic")},m(r,l){C(r,e,l),M(e,n),a||(o=[_(e,"mouseenter",t[3]),_(e,"mousedown",t[4]),_(e,"click",function(){ke(t[1])&&t[1].apply(this,arguments)}),_(e,"mouseup",t[5]),_(e,"mouseleave",t[6])],a=!0)},p(r,l){t=r,l&4&&Ee(n,"fa-lock",t[2]==="default"),l&4&&Ee(n,"fa-unlock",t[2]==="hovered"||t[2]==="active")},d(r){r&&g(e),a=!1,xe(o)}}}function Mt(t){let e;function n(r,l){return r[0]?Ct:Lt}let a=n(t),o=a(t);return{c(){o.c(),e=K()},l(r){o.l(r),e=K()},m(r,l){o.m(r,l),C(r,e,l)},p(r,[l]){a===(a=n(r))&&o?o.p(r,l):(o.d(1),o=a(r),o&&(o.c(),o.m(e.parentNode,e)))},i:F,o:F,d(r){r&&g(e),o.d(r)}}}function Nt(t,e,n){let a="default",{encrypted:o=!1}=e,{decryptCallback:r=()=>{}}=e;const l=()=>n(2,a="hovered"),s=()=>n(2,a="active"),i=()=>n(2,a="hovered"),h=()=>n(2,a="default");return t.$$set=u=>{"encrypted"in u&&n(0,o=u.encrypted),"decryptCallback"in u&&n(1,r=u.decryptCallback)},[o,r,a,l,s,i,h]}class It extends $e{constructor(e){super(),Te(this,e,Nt,Mt,ve,{encrypted:0,decryptCallback:1})}}async function Ot(){try{return await navigator.clipboard.readText()}catch(t){return console.error({method:"getFromClipboard",error:t}),null}}function Je(t,e,n){const a=t.slice();return a[23]=e[n],a}function Ge(t,e,n){const a=t.slice();return a[26]=e[n],a}function Ke(t){let e,n,a,o,r,l,s,i=t[26].text+"",h,u,p,c;function f(){return t[8](t[26])}return{c(){e=x("li"),n=x("button"),a=x("span"),o=x("i"),l=H(),s=x("span"),h=re(i),u=H(),this.h()},l(d){e=E(d,"LI",{});var v=N(e);n=E(v,"BUTTON",{class:!0});var w=N(n);a=E(w,"SPAN",{});var $=N(a);o=E($,"I",{class:!0}),N(o).forEach(g),$.forEach(g),l=D(w),s=E(w,"SPAN",{});var I=N(s);h=le(I,i),I.forEach(g),w.forEach(g),u=D(v),v.forEach(g),this.h()},h(){y(o,"class",r="fa-solid "+t[26].faIconClass),y(n,"class","w-full")},m(d,v){C(d,e,v),M(e,n),M(n,a),M(a,o),M(n,l),M(n,s),M(s,h),M(e,u),p||(c=_(n,"click",f),p=!0)},p(d,v){t=d,v&16&&r!==(r="fa-solid "+t[26].faIconClass)&&y(o,"class",r),v&16&&i!==(i=t[26].text+"")&&se(h,i)},d(d){d&&g(e),p=!1,c()}}}function jt(t){let e,n='<h3 class="h3 truncate">Placeholder</h3>',a,o,r,l='<i class="fa-solid fa-add fa-9x"></i>',s,i,h='<span class="chip variant-ghost">no tag yet</span>',u,p;return{c(){e=x("header"),e.innerHTML=n,a=H(),o=x("section"),r=x("button"),r.innerHTML=l,s=H(),i=x("footer"),i.innerHTML=h,this.h()},l(c){e=E(c,"HEADER",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-kne87x"&&(e.innerHTML=n),a=D(c),o=E(c,"SECTION",{class:!0});var f=N(o);r=E(f,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(r)!=="svelte-1w1pyak"&&(r.innerHTML=l),f.forEach(g),s=D(c),i=E(c,"FOOTER",{class:!0,"data-svelte-h":!0}),Q(i)!=="svelte-8avvcy"&&(i.innerHTML=h),this.h()},h(){y(e,"class","card-header flex gap-4 justify-between invisible"),y(r,"class","btn variant-filled"),y(o,"class","m-4 h-40 flex flex-col justify-center items-center"),y(i,"class","card-footer invisible")},m(c,f){C(c,e,f),C(c,a,f),C(c,o,f),M(o,r),C(c,s,f),C(c,i,f),u||(p=_(r,"click",t[7]),u=!0)},p:F,i:F,o:F,d(c){c&&(g(e),g(a),g(o),g(s),g(i)),u=!1,p()}}}function St(t){let e,n,a=t[0].name+"",o,r,l,s,i,h='<i class="fa-xl fa-solid fa-ellipsis-v"></i>',u,p,c,f,d,v,w,$,I,W,U;function S(b,O){if(b[1]==="unlocked"&&b[2]==="hidden")return Bt;if(b[1]==="unlocked"&&b[2]==="visible")return At}let m=S(t),k=m&&m(t);const X=[Wt,Pt],R=[];function T(b,O){return(b[1]!=="default"||b[0].encrypted)&&b[2]==="hidden"?0:b[1]==="default"||b[2]==="visible"?1:-1}~(f=T(t))&&(d=R[f]=X[f](t));let j=ce(t[0].tags),L=[];for(let b=0;b<j.length;b+=1)L[b]=Qe(Je(t,j,b));let B=t[0].tags.length===0&&Ze();return{c(){e=x("header"),n=x("button"),o=re(a),r=H(),l=x("div"),k&&k.c(),s=H(),i=x("button"),i.innerHTML=h,p=H(),c=x("section"),d&&d.c(),v=H(),w=x("footer");for(let b=0;b<L.length;b+=1)L[b].c();$=H(),B&&B.c(),this.h()},l(b){e=E(b,"HEADER",{class:!0});var O=N(e);n=E(O,"BUTTON",{class:!0});var z=N(n);o=le(z,a),z.forEach(g),r=D(O),l=E(O,"DIV",{class:!0});var A=N(l);k&&k.l(A),s=D(A),i=E(A,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(i)!=="svelte-dombq9"&&(i.innerHTML=h),A.forEach(g),O.forEach(g),p=D(b),c=E(b,"SECTION",{class:!0});var pe=N(c);d&&d.l(pe),pe.forEach(g),v=D(b),w=E(b,"FOOTER",{class:!0});var be=N(w);for(let De=0;De<L.length;De+=1)L[De].l(be);$=D(be),B&&B.l(be),be.forEach(g),this.h()},h(){y(n,"class","h3 truncate cursor-pointer"),y(i,"class","btn btn-sm variant-filled"),y(l,"class","flex gap-1"),y(e,"class","card-header flex gap-4 justify-between"),y(c,"class","m-4 h-40 overflow-y-scroll hide-scrollbar"),y(w,"class","card-footer flex gap-1")},m(b,O){C(b,e,O),M(e,n),M(n,o),M(e,r),M(e,l),k&&k.m(l,null),M(l,s),M(l,i),C(b,p,O),C(b,c,O),~f&&R[f].m(c,null),C(b,v,O),C(b,w,O);for(let z=0;z<L.length;z+=1)L[z]&&L[z].m(w,null);M(w,$),B&&B.m(w,null),I=!0,W||(U=[_(n,"click",t[6].callback),we(u=sn.call(null,i,{event:"click",target:"card-actions-"+t[0].id,placement:"right"}))],W=!0)},p(b,O){(!I||O&1)&&a!==(a=b[0].name+"")&&se(o,a),m===(m=S(b))&&k?k.p(b,O):(k&&k.d(1),k=m&&m(b),k&&(k.c(),k.m(l,s))),u&&ke(u.update)&&O&1&&u.update.call(null,{event:"click",target:"card-actions-"+b[0].id,placement:"right"});let z=f;if(f=T(b),f===z?~f&&R[f].p(b,O):(d&&(Re(),Y(R[z],1,1,()=>{R[z]=null}),_e()),~f?(d=R[f],d?d.p(b,O):(d=R[f]=X[f](b),d.c()),J(d,1),d.m(c,null)):d=null),O&1){j=ce(b[0].tags);let A;for(A=0;A<j.length;A+=1){const pe=Je(b,j,A);L[A]?L[A].p(pe,O):(L[A]=Qe(pe),L[A].c(),L[A].m(w,$))}for(;A<L.length;A+=1)L[A].d(1);L.length=j.length}b[0].tags.length===0?B||(B=Ze(),B.c(),B.m(w,null)):B&&(B.d(1),B=null)},i(b){I||(J(d),I=!0)},o(b){Y(d),I=!1},d(b){b&&(g(e),g(p),g(c),g(v),g(w)),k&&k.d(),~f&&R[f].d(),pt(L,b),B&&B.d(),W=!1,xe(U)}}}function At(t){let e,n='<i class="fa-solid fa-eye-slash"></i>',a,o;return{c(){e=x("button"),e.innerHTML=n,this.h()},l(r){e=E(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-joj8i"&&(e.innerHTML=n),this.h()},h(){y(e,"class","btn btn-sm variant-filled")},m(r,l){C(r,e,l),a||(o=_(e,"click",t[11]),a=!0)},p:F,d(r){r&&g(e),a=!1,o()}}}function Bt(t){let e,n,a,o,r,l,s='<i class="fa-solid fa-eye"></i>',i,h;return{c(){e=x("button"),n=x("i"),r=H(),l=x("button"),l.innerHTML=s,this.h()},l(u){e=E(u,"BUTTON",{class:!0});var p=N(e);n=E(p,"I",{class:!0}),N(n).forEach(g),p.forEach(g),r=D(u),l=E(u,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-1bfmp1k"&&(l.innerHTML=s),this.h()},h(){y(n,"class",a="fa-solid "+t[3]),y(e,"class","btn btn-sm variant-filled"),y(l,"class","btn btn-sm variant-filled")},m(u,p){C(u,e,p),M(e,n),C(u,r,p),C(u,l,p),i||(h=[we(o=qe.call(null,e,t[0].text)),_(e,"click",t[9]),_(l,"click",t[10])],i=!0)},p(u,p){p&8&&a!==(a="fa-solid "+u[3])&&y(n,"class",a),o&&ke(o.update)&&p&1&&o.update.call(null,u[0].text)},d(u){u&&(g(e),g(r),g(l)),i=!1,xe(h)}}}function Pt(t){let e,n;return e=new Tt({props:{buttonLabel:"Copy",buttonCopied:"\u2714\uFE0F",language:t[0].language,code:t[0].text}}),{c(){Le(e.$$.fragment)},l(a){Ce(e.$$.fragment,a)},m(a,o){Me(e,a,o),n=!0},p(a,o){const r={};o&1&&(r.language=a[0].language),o&1&&(r.code=a[0].text),e.$set(r)},i(a){n||(J(e.$$.fragment,a),n=!0)},o(a){Y(e.$$.fragment,a),n=!1},d(a){Ne(e,a)}}}function Wt(t){let e,n;return e=new It({props:{encrypted:t[0].encrypted,decryptCallback:t[5].callback}}),{c(){Le(e.$$.fragment)},l(a){Ce(e.$$.fragment,a)},m(a,o){Me(e,a,o),n=!0},p(a,o){const r={};o&1&&(r.encrypted=a[0].encrypted),e.$set(r)},i(a){n||(J(e.$$.fragment,a),n=!0)},o(a){Y(e.$$.fragment,a),n=!1},d(a){Ne(e,a)}}}function Qe(t){let e,n=t[23]+"",a,o,r;function l(){return t[12](t[23])}return{c(){e=x("button"),a=re(n),this.h()},l(s){e=E(s,"BUTTON",{class:!0});var i=N(e);a=le(i,n),i.forEach(g),this.h()},h(){y(e,"class","chip variant-filled")},m(s,i){C(s,e,i),M(e,a),o||(r=_(e,"click",l),o=!0)},p(s,i){t=s,i&1&&n!==(n=t[23]+"")&&se(a,n)},d(s){s&&g(e),o=!1,r()}}}function Ze(t){let e,n="no tag yet";return{c(){e=x("span"),e.textContent=n,this.h()},l(a){e=E(a,"SPAN",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1wr700p"&&(e.textContent=n),this.h()},h(){y(e,"class","chip variant-ghost")},m(a,o){C(a,e,o)},d(a){a&&g(e)}}}function Ht(t){let e,n,a,o,r,l,s,i,h=ce(t[4]),u=[];for(let d=0;d<h.length;d+=1)u[d]=Ke(Ge(t,h,d));const p=[St,jt],c=[];function f(d,v){return d[0].id!=="new-card"?0:1}return l=f(t),s=c[l]=p[l](t),{c(){e=x("div"),n=x("ul");for(let d=0;d<u.length;d+=1)u[d].c();o=H(),r=x("div"),s.c(),this.h()},l(d){e=E(d,"DIV",{"data-popup":!0,class:!0});var v=N(e);n=E(v,"UL",{class:!0});var w=N(n);for(let I=0;I<u.length;I+=1)u[I].l(w);w.forEach(g),v.forEach(g),o=D(d),r=E(d,"DIV",{class:!0});var $=N(r);s.l($),$.forEach(g),this.h()},h(){y(n,"class","list-nav variant-filled gap-2 rounded-container-token"),y(e,"data-popup",a="card-actions-"+t[0].id),y(e,"class","z-10"),y(r,"class","card p-4")},m(d,v){C(d,e,v),M(e,n);for(let w=0;w<u.length;w+=1)u[w]&&u[w].m(n,null);C(d,o,v),C(d,r,v),c[l].m(r,null),i=!0},p(d,[v]){if(v&16){h=ce(d[4]);let $;for($=0;$<h.length;$+=1){const I=Ge(d,h,$);u[$]?u[$].p(I,v):(u[$]=Ke(I),u[$].c(),u[$].m(n,null))}for(;$<u.length;$+=1)u[$].d(1);u.length=h.length}(!i||v&1&&a!==(a="card-actions-"+d[0].id))&&y(e,"data-popup",a);let w=l;l=f(d),l===w?c[l].p(d,v):(Re(),Y(c[w],1,1,()=>{c[w]=null}),_e(),s=c[l],s?s.p(d,v):(s=c[l]=p[l](d),s.c()),J(s,1),s.m(r,null))},i(d){i||(J(s),i=!0)},o(d){Y(s),i=!1},d(d){d&&(g(e),g(o),g(r)),pt(u,d),c[l].d()}}}function Dt(t,e,n){let a,o;ye(t,ft,T=>n(13,a=T)),ye(t,Ie,T=>n(14,o=T));const r=rn();let l="default",s="hidden",i="fa-copy",{snippet:h={id:"",name:"",language:"",text:"",tags:[],encrypted:!1,position:0,createdAt:0,updatedAt:0}}=e;const u={text:"Encrypt",faIconClass:"fa-lock",callback:()=>{Ue(Ie,o=!0,o),r.trigger({type:"component",component:"locker",response:T=>{if(!T)return;const{password:j}=T;cn(h,j).then(L=>fe.upsert(L))}})}},p={text:"Decrypt",faIconClass:"fa-unlock",callback:()=>{Ue(Ie,o=!1,o),r.trigger({type:"component",component:"locker",response:T=>{if(!T)return;const{password:j}=T;ht(h,j).then(L=>{n(1,l="unlocked"),n(0,h={...L})}).catch(L=>{console.error(L),setTimeout(()=>r.trigger({type:"alert",title:"Unable to decrypt the card",body:"Please recheck your password!"}),500)})}})}},c={text:"Unlock",faIconClass:"fa-key",callback:()=>{Ue(Ie,o=!1,o),r.trigger({type:"component",component:"locker",response:T=>{if(!T)return;const{password:j}=T;ht(h,j).then(L=>{n(1,l="default"),fe.upsert(L)}).catch(L=>{console.error(L),setTimeout(()=>r.trigger({type:"alert",title:"Unable to unlock the card",body:"Please recheck your password!"}),500)})}})}},f={text:"Duplicate",faIconClass:"fa-clone",callback:()=>fe.clone(h)},d={text:"Edit",faIconClass:"fa-edit",callback:()=>{ze.set(h),r.trigger({type:"component",component:"snippet"})}},v={text:"Move",faIconClass:"fa-arrow-up-from-bracket",callback:()=>{ze.set(h),r.trigger({type:"component",component:"moveSnippet"})}},w={text:"Delete",faIconClass:"fa-trash",callback:()=>{r.trigger({type:"confirm",title:"Are you sure about this action?",body:"The record would be deleted completely!",response:T=>{T&&fe.remove(h.id)}})}},$=[u,d,f,v,w],I=[p,c,d,v,w];let W=[];async function U(){const T=ln();let j=await Ot();j||(j="To be filled"),T.text=j,T.tags=Array.from(a),await fe.upsert(T),ze.set(T),r.trigger({type:"component",component:"snippet"})}const S=T=>T.callback(),m=()=>{n(3,i="fa-check"),setTimeout(()=>n(3,i="fa-copy"),1e3)},k=()=>n(2,s="visible"),X=()=>n(2,s="hidden"),R=T=>ft.add(T);return t.$$set=T=>{"snippet"in T&&n(0,h=T.snippet)},t.$$.update=()=>{t.$$.dirty&1&&n(4,W=h.encrypted?I:$)},[h,l,s,i,W,p,d,U,S,m,k,X,R]}class et extends $e{constructor(e){super(),Te(this,e,Dt,Ht,ve,{snippet:0})}}const tt=new Set,P=new WeakMap,te=new WeakMap,Z=new WeakMap,je=new WeakMap,Ut=new WeakMap,ne=new WeakMap,he=new WeakMap,ie=new WeakSet;let G,Se=0,Ae=0;const V="__aa_tgt",de="__aa_del",me="__aa_new",Rt=t=>{const e=Xt(t);e&&e.forEach(n=>Ft(n))},_t=t=>{t.forEach(e=>{e.target===G&&qt(),P.has(e.target)&&ee(e.target)})};function zt(t){const e=je.get(t);e==null||e.disconnect();let n=P.get(t),a=0;const o=5;n||(n=oe(t),P.set(t,n));const{offsetWidth:r,offsetHeight:l}=G,s=[n.top-o,r-(n.left+o+n.width),l-(n.top+o+n.height),n.left-o].map(h=>`${-1*Math.floor(h)}px`).join(" "),i=new IntersectionObserver(()=>{++a>1&&ee(t)},{root:G,threshold:1,rootMargin:s});i.observe(t),je.set(t,i)}function ee(t){clearTimeout(he.get(t));const e=ge(t),n=ue(e)?500:e.duration;he.set(t,setTimeout(async()=>{const a=Z.get(t);try{await(a==null?void 0:a.finished),P.set(t,oe(t)),zt(t)}catch{}},n))}function qt(){clearTimeout(he.get(G)),he.set(G,setTimeout(()=>{tt.forEach(t=>rt(t,e=>nt(()=>ee(e))))},100))}function Vt(t){setTimeout(()=>{Ut.set(t,setInterval(()=>nt(ee.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function nt(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}let Be,ae;typeof window<"u"&&(G=document.documentElement,Be=new MutationObserver(Rt),ae=new ResizeObserver(_t),window.addEventListener("scroll",()=>{Ae=window.scrollY,Se=window.scrollX}),ae.observe(G));function Xt(t){return t.reduce((e,n)=>[...e,...Array.from(n.addedNodes),...Array.from(n.removedNodes)],[]).every(e=>e.nodeName==="#comment")?!1:t.reduce((e,n)=>{if(e===!1)return!1;if(n.target instanceof Element){if(Pe(n.target),!e.has(n.target)){e.add(n.target);for(let a=0;a<n.target.children.length;a++){const o=n.target.children.item(a);if(o){if(de in o)return!1;Pe(n.target,o),e.add(o)}}}if(n.removedNodes.length)for(let a=0;a<n.removedNodes.length;a++){const o=n.removedNodes[a];if(de in o)return!1;o instanceof Element&&(e.add(o),Pe(n.target,o),te.set(o,[n.previousSibling,n.nextSibling]))}}return e},new Set)}function Pe(t,e){!e&&!(V in t)?Object.defineProperty(t,V,{value:t}):e&&!(V in e)&&Object.defineProperty(e,V,{value:t})}function Ft(t){var e;const n=t.isConnected,a=P.has(t);n&&te.has(t)&&te.delete(t),Z.has(t)&&((e=Z.get(t))===null||e===void 0||e.cancel()),me in t?lt(t):a&&n?Jt(t):a&&!n?Gt(t):lt(t)}function q(t){return Number(t.replace(/[^0-9.\-]/g,""))}function Yt(t){let e=t.parentElement;for(;e;){if(e.scrollLeft||e.scrollTop)return{x:e.scrollLeft,y:e.scrollTop};e=e.parentElement}return{x:0,y:0}}function oe(t){const e=t.getBoundingClientRect(),{x:n,y:a}=Yt(t);return{top:e.top+a,left:e.left+n,width:e.width,height:e.height}}function at(t,e,n){let a=e.width,o=e.height,r=n.width,l=n.height;const s=getComputedStyle(t);if(s.getPropertyValue("box-sizing")==="content-box"){const i=q(s.paddingTop)+q(s.paddingBottom)+q(s.borderTopWidth)+q(s.borderBottomWidth),h=q(s.paddingLeft)+q(s.paddingRight)+q(s.borderRightWidth)+q(s.borderLeftWidth);a-=h,r-=h,o-=i,l-=i}return[a,r,o,l].map(Math.round)}function ge(t){return V in t&&ne.has(t[V])?ne.get(t[V]):{duration:250,easing:"ease-in-out"}}function ot(t){if(V in t)return t[V]}function We(t){const e=ot(t);return e?ie.has(e):!1}function rt(t,...e){e.forEach(n=>n(t,ne.has(t)));for(let n=0;n<t.children.length;n++){const a=t.children.item(n);a&&e.forEach(o=>o(a,ne.has(a)))}}function He(t){return Array.isArray(t)?t:[t]}function ue(t){return typeof t=="function"}function Jt(t){const e=P.get(t),n=oe(t);if(!We(t))return P.set(t,n);let a;if(!e)return;const o=ge(t);if(typeof o!="function"){const r=e.left-n.left,l=e.top-n.top,[s,i,h,u]=at(t,e,n),p={transform:`translate(${r}px, ${l}px)`},c={transform:"translate(0, 0)"};s!==i&&(p.width=`${s}px`,c.width=`${i}px`),h!==u&&(p.height=`${h}px`,c.height=`${u}px`),a=t.animate([p,c],{duration:o.duration,easing:o.easing})}else{const[r]=He(o(t,"remain",e,n));a=new Animation(r),a.play()}Z.set(t,a),P.set(t,n),a.addEventListener("finish",ee.bind(null,t))}function lt(t){me in t&&delete t[me];const e=oe(t);P.set(t,e);const n=ge(t);if(!We(t))return;let a;if(typeof n!="function")a=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"});else{const[o]=He(n(t,"add",e));a=new Animation(o),a.play()}Z.set(t,a),a.addEventListener("finish",ee.bind(null,t))}function st(t,e){var n;t.remove(),P.delete(t),te.delete(t),Z.delete(t),(n=je.get(t))===null||n===void 0||n.disconnect(),setTimeout(()=>{if(de in t&&delete t[de],Object.defineProperty(t,me,{value:!0,configurable:!0}),e&&t instanceof HTMLElement)for(const a in e)t.style[a]=""},0)}function Gt(t){var e;if(!te.has(t)||!P.has(t))return;const[n,a]=te.get(t);Object.defineProperty(t,de,{value:!0,configurable:!0});const o=window.scrollX,r=window.scrollY;if(a&&a.parentNode&&a.parentNode instanceof Element?a.parentNode.insertBefore(t,a):n&&n.parentNode?n.parentNode.appendChild(t):(e=ot(t))===null||e===void 0||e.appendChild(t),!We(t))return st(t);const[l,s,i,h]=Qt(t),u=ge(t),p=P.get(t);(o!==Se||r!==Ae)&&Kt(t,o,r,u);let c,f={position:"absolute",top:`${l}px`,left:`${s}px`,width:`${i}px`,height:`${h}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!ue(u))Object.assign(t.style,f),c=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:u.duration,easing:"ease-out"});else{const[d,v]=He(u(t,"remove",p));(v==null?void 0:v.styleReset)!==!1&&(f=(v==null?void 0:v.styleReset)||f,Object.assign(t.style,f)),c=new Animation(d),c.play()}Z.set(t,c),c.addEventListener("finish",st.bind(null,t,f))}function Kt(t,e,n,a){const o=Se-e,r=Ae-n,l=document.documentElement.style.scrollBehavior;if(getComputedStyle(G).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+o,window.scrollY+r),!t.parentElement)return;const s=t.parentElement;let i=s.clientHeight,h=s.clientWidth;const u=performance.now();function p(){requestAnimationFrame(()=>{if(!ue(a)){const c=i-s.clientHeight,f=h-s.clientWidth;u+a.duration>performance.now()?(window.scrollTo({left:window.scrollX-f,top:window.scrollY-c}),i=s.clientHeight,h=s.clientWidth,p()):document.documentElement.style.scrollBehavior=l}})}p()}function Qt(t){const e=P.get(t),[n,,a]=at(t,e,oe(t));let o=t.parentElement;for(;o&&(getComputedStyle(o).position==="static"||o instanceof HTMLBodyElement);)o=o.parentElement;o||(o=document.body);const r=getComputedStyle(o),l=P.get(o)||oe(o),s=Math.round(e.top-l.top)-q(r.borderTopWidth),i=Math.round(e.left-l.left)-q(r.borderLeftWidth);return[s,i,n,a]}function Zt(t,e={}){return Be&&ae&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!ue(e)&&!e.disrespectUserMotionPreference||(ie.add(t),getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),rt(t,ee,Vt,n=>ae==null?void 0:ae.observe(n)),ue(e)?ne.set(t,e):ne.set(t,{duration:250,easing:"ease-in-out",...e}),Be.observe(t,{childList:!0}),tt.add(t))),Object.freeze({parent:t,enable:()=>{ie.add(t)},disable:()=>{ie.delete(t)},isEnabled:()=>ie.has(t)})}function ct(t,e,n){const a=t.slice();return a[1]=e[n],a}function it(t,e){let n,a,o;return a=new et({props:{snippet:e[1]}}),{key:t,first:null,c(){n=K(),Le(a.$$.fragment),this.h()},l(r){n=K(),Ce(a.$$.fragment,r),this.h()},h(){this.first=n},m(r,l){C(r,n,l),Me(a,r,l),o=!0},p(r,l){e=r;const s={};l&1&&(s.snippet=e[1]),a.$set(s)},i(r){o||(J(a.$$.fragment,r),o=!0)},o(r){Y(a.$$.fragment,r),o=!1},d(r){r&&g(n),Ne(a,r)}}}function en(t){let e,n=[],a=new Map,o,r,l,s,i,h=ce(t[0]);const u=p=>p[1].id;for(let p=0;p<h.length;p+=1){let c=ct(t,h,p),f=u(c);a.set(f,n[p]=it(f,c))}return r=new et({props:{snippet:{id:"new-card"}}}),{c(){e=x("div");for(let p=0;p<n.length;p+=1)n[p].c();o=H(),Le(r.$$.fragment),this.h()},l(p){e=E(p,"DIV",{class:!0});var c=N(e);for(let f=0;f<n.length;f+=1)n[f].l(c);o=D(c),Ce(r.$$.fragment,c),c.forEach(g),this.h()},h(){y(e,"class","p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 hide-scrollbar")},m(p,c){C(p,e,c);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);M(e,o),Me(r,e,null),l=!0,s||(i=we(Zt.call(null,e)),s=!0)},p(p,[c]){c&1&&(h=ce(p[0]),Re(),n=dn(n,c,u,1,p,h,a,e,un,it,o,ct),_e())},i(p){if(!l){for(let c=0;c<h.length;c+=1)J(n[c]);J(r.$$.fragment,p),l=!0}},o(p){for(let c=0;c<n.length;c+=1)Y(n[c]);Y(r.$$.fragment,p),l=!1},d(p){p&&g(e);for(let c=0;c<n.length;c+=1)n[c].d();Ne(r),s=!1,i()}}}function tn(t,e,n){let a;return ye(t,pn,o=>n(0,a=o)),[a]}mt=class extends $e{constructor(t){super(),Te(this,t,tn,en,ve,{})}}});export{mn as __tla,mt as component,gt as universal};
